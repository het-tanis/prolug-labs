### Lab Activities

Your team has decided to use Hashicorp Packer as a tool for accurately building and pushing images in your environment. You have decided to use it to push your simple flask app, and test the capabilities of putting it into a CI/CD pipeline.

Build the same container that you did with docker in step 1, but with the name packer prepended to it.

<br>
<details>
<summary>Solution</summary>

Start by creating your automation file.

```plain
ansible-playbook unit7_kubernetes_test_creation.yaml
```{{exec}}

Check the namespaces and then delete the daily-test

```plain
kubectl get ns
kubectl delete ns daily-test
```{{exec}}

Add in the creation of a pod.

```plain
  - name: create resource using name generated by the server
    kubernetes.core.k8s:
      state: present
      generate_name: nginx-
      definition:
        apiVersion: v1
        metadata:
          namespace: daily-test
        kind: Pod
        spec:
          containers:
          - name: nginx
            image: nginx
            imagePullPolicy: IfNotPresent
```

Execute the deployment

```plain
ansible-playbook unit7_kubernetes_test_creation.yaml
```{{exec}}

Verify that the namespace and the pod have been created

```plain
kubectl get all -n daily-test
```{{exec}}

Think about how you can add variables to both the name and the types of items being deployed for how the team may give you variables.

</details>